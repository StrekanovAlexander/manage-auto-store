{{#if operations1}}
<h2>{{ customer1.title }}: {{ currency customerTotal1}}</h2>
<table class="table table-sm table-bordered">
    <tr>
        <th class="col-1 text-end">ID</th>
        <th class="col-1 text-center">Date</th>
        <th class="col-2">Operation type</th>
        {{#each participants1}}
            <th class="col-1 text-end">{{ this.full_name }}</th>
        {{/each}}
        <th class="col text-center">Description</th>
    </tr>
    <tr class="bg-light">
        <td class="text-end"><a href="#" id="btn-operations-1">Details</a></td>
        <td colspan="2"></td>
        {{#each participants1}}
            <td class="fw-bold small text-end">{{ currency this.totalAmount }}</td>
        {{/each}}
        <td></td>
    </tr>
</table>
<div class="hidden" id="operations-1">
    <table class="table table-sm table-bordered">    
        {{#each operations1}}
        <tr class="small">
            <td class="col-1 text-end">{{ this.id }}</td>
            <td class="col-1 text-center">{{ this.date_reg }}</td>
            <td class="col-2">{{ this.operationType }}</td>
            {{#each this.participants}}
                <td class="col-1 text-end">{{ currency amount }}</td>
            {{/each}}
            <td class="col text-start">{{ this.description }}</td>
        </tr>
        {{/each}}
    </table>
</div>
{{/if}}

<script>
(() => {
    document.querySelector('#btn-operations-1').addEventListener('click', (ev) => {
        const el = document.querySelector('#operations-1');
        toggleVisibility(el);
        ev.target.text = el.classList.contains('visible') ? 'Hide details' : 'Details';
    });

    function toggleVisibility(el) {
        if (el.classList.contains('hidden')) {
            el.classList.remove('hidden');
            el.classList.add('visible');
        } else if (el.classList.contains('visible')) {
            el.classList.remove('visible');
            el.classList.add('hidden');
        }
    }
})();
</script>